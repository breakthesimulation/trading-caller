<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trading Caller - AI Trading Calls for Solana</title>
  <meta name="description" content="Free your mind â€” AI-powered trading signals, RSI scanner, volume alerts, and more for Solana.">
  <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="rsi-enhancements.css">
  <link rel="stylesheet" href="oversold-positions.css">
  <link rel="stylesheet" href="keyboard-shortcuts.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container header-content">
      <a href="#" class="logo" onclick="showSection('signals'); return false;">
        <svg width="40" height="40" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="48" rx="14" fill="#E9E3FF"/>
          <path d="M16 32 L24 16 L32 32" stroke="#7B61FF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M12 26 L18 26" stroke="#AB9FF2" stroke-width="2" stroke-linecap="round"/>
          <path d="M30 26 L36 26" stroke="#AB9FF2" stroke-width="2" stroke-linecap="round"/>
          <circle cx="24" cy="14" r="3" fill="#22C55E"/>
          <circle cx="12" cy="26" r="2" fill="#AB9FF2"/>
          <circle cx="36" cy="26" r="2" fill="#AB9FF2"/>
        </svg>
        Trading Caller
      </a>
      <nav class="nav" id="main-nav">
        <a href="#signals" class="nav-link active" data-section="signals">ğŸ“¡ Signals</a>
        <a href="#history" class="nav-link" data-section="history">ğŸ“œ History</a>
        <a href="#volume" class="nav-link" data-section="volume">ğŸ“Š Volume</a>
        <a href="#rsi" class="nav-link" data-section="rsi">ğŸ“ˆ RSI</a>
        <a href="#oversold" class="nav-link" data-section="oversold">ğŸ”¥ Oversold</a>
        <a href="#positions" class="nav-link" data-section="positions">ğŸ’¼ Positions</a>
        <a href="#funding" class="nav-link" data-section="funding">ğŸ’° Funding</a>
        <a href="#unlocks" class="nav-link" data-section="unlocks">ğŸ”“ Unlocks</a>
        <a href="#leaderboard" class="nav-link" data-section="leaderboard">ğŸ† Leaderboard</a>
      </nav>
      <button class="mobile-menu-btn" id="mobile-menu-btn">â˜°</button>
    </div>
  </header>

  <!-- Mobile Navigation -->
  <div class="mobile-nav" id="mobile-nav">
    <a href="#signals" class="nav-link active" data-section="signals">ğŸ“¡ Signals</a>
    <a href="#history" class="nav-link" data-section="history">ğŸ“œ History</a>
    <a href="#volume" class="nav-link" data-section="volume">ğŸ“Š Volume</a>
    <a href="#rsi" class="nav-link" data-section="rsi">ğŸ“ˆ RSI</a>
    <a href="#oversold" class="nav-link" data-section="oversold">ğŸ”¥ Oversold</a>
    <a href="#positions" class="nav-link" data-section="positions">ğŸ’¼ Positions</a>
    <a href="#funding" class="nav-link" data-section="funding">ğŸ’° Funding</a>
    <a href="#unlocks" class="nav-link" data-section="unlocks">ğŸ”“ Unlocks</a>
    <a href="#leaderboard" class="nav-link" data-section="leaderboard">ğŸ† Leaderboard</a>
  </div>

  <!-- Main Content -->
  <main class="container">
    <!-- Hero -->
    <section class="hero">
      <h1 id="hero-title">AI Trading Signals</h1>
      <p id="hero-subtitle">Free your mind â€” AI-powered trading calls for Solana. Signals, volume alerts, RSI analysis, and more.</p>
    </section>

    <!-- ==================== SIGNALS SECTION ==================== -->
    <section id="signals-section" class="page-section active">
      <!-- Performance Stats -->
      <div class="stats-grid" id="signals-stats">
        <div class="stat-card highlight">
          <div class="stat-value" id="stat-win-rate">--</div>
          <div class="stat-label">Win Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-avg-return">--</div>
          <div class="stat-label">Avg Return</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-total-signals">--</div>
          <div class="stat-label">Total Signals</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-active">--</div>
          <div class="stat-label">Active Now</div>
        </div>
      </div>

      <!-- Latest Signals -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“¡</span> Latest Signals</h2>
          <button class="btn btn-ghost" onclick="refreshSignals()">â†» Refresh</button>
        </div>
        <div class="signals-grid" id="signals-grid">
          <!-- Dynamic signal cards -->
        </div>
      </div>

    </section>

    <!-- ==================== HISTORY SECTION ==================== -->
    <section id="history-section" class="page-section">
      <!-- Performance Summary -->
      <div class="stats-grid">
        <div class="stat-card highlight">
          <div class="stat-value" id="history-win-rate">--</div>
          <div class="stat-label">Overall Win Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="history-avg-roi">--</div>
          <div class="stat-label">Average ROI</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="history-total-signals">--</div>
          <div class="stat-label">Total Calls</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="history-profit-factor">--</div>
          <div class="stat-label">Profit Factor</div>
        </div>
      </div>

      <!-- Past Trading Calls -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“œ</span> Past Trading Calls</h2>
          <div class="toggle-group toggle-sm">
            <button class="toggle-btn active" data-filter="all">All</button>
            <button class="toggle-btn" data-filter="wins">Wins</button>
            <button class="toggle-btn" data-filter="losses">Losses</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Token</th>
                <th>Type</th>
                <th>Entry</th>
                <th>Exit</th>
                <th>Target</th>
                <th>Stop</th>
                <th>Result</th>
                <th>ROI</th>
                <th>Link</th>
              </tr>
            </thead>
            <tbody id="history-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Win/Loss Analysis -->
      <div class="card card-purple">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“Š</span> Performance Analysis</h2>
        </div>
        <div class="opportunities-grid" id="history-analysis-grid">
          <!-- Dynamic analysis cards -->
        </div>
      </div>
    </section>

    <!-- ==================== VOLUME SECTION ==================== -->
    <section id="volume-section" class="page-section">
      <!-- Volume Stats -->
      <div class="stats-grid">
        <div class="stat-card highlight">
          <div class="stat-value" id="volume-status">--</div>
          <div class="stat-label">Scanner Status</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="volume-tokens">--</div>
          <div class="stat-label">Tokens Tracked</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="volume-spikes-count">--</div>
          <div class="stat-label">Active Spikes</div>
        </div>
      </div>

      <!-- Volume Spikes Alert -->
      <div class="card card-purple">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">âš¡</span> Volume Spikes</h2>
          <span class="badge badge-warning">Live</span>
        </div>
        <div class="opportunities-grid" id="volume-spikes-grid">
          <!-- Dynamic spike cards -->
        </div>
      </div>

      <!-- Top Volume Tokens -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“Š</span> Top Volume Tokens</h2>
          <button class="btn btn-ghost" onclick="refreshVolume()">â†» Refresh</button>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Token</th>
                <th>24h Volume</th>
                <th>Volume Change</th>
                <th>Price</th>
                <th>Price Change</th>
              </tr>
            </thead>
            <tbody id="volume-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ==================== RSI SECTION ==================== -->
    <section id="rsi-section" class="page-section">
      <!-- Stats Summary -->
      <div class="rsi-stats-container" id="rsi-stats">
        <!-- Dynamic stats -->
      </div>
      
      <!-- Toggle -->
      <div class="toggle-container">
        <div class="toggle-group">
          <button class="toggle-btn oversold active" data-mode="oversold">ğŸ“ˆ Oversold</button>
          <button class="toggle-btn overbought" data-mode="overbought">ğŸ“‰ Overbought</button>
        </div>
        <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
          <button class="btn btn-secondary btn-sm" id="rsi-auto-refresh-btn" onclick="toggleRSIAutoRefresh()">â¸ï¸ Auto</button>
          <span class="text-muted" id="rsi-last-scan" style="font-size: 12px;">Last scan: --:--</span>
        </div>
      </div>

      <!-- Search Section -->
      <div class="search-section">
        <div class="search-row">
          <div class="search-input-wrapper">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" id="rsi-search-input" placeholder="Search token (e.g., SOL, BONK, PEPE)">
          </div>
          <button class="scan-btn" id="rsi-scan-btn"><span>âš¡</span> Scan</button>
        </div>

        <!-- RSI Slider -->
        <div class="slider-section">
          <span class="slider-label">RSI Threshold</span>
          <div class="slider-wrapper">
            <input type="range" class="rsi-slider" id="rsi-slider" min="10" max="50" value="30">
          </div>
          <span class="slider-value" id="rsi-value">30</span>
        </div>
      </div>

      <!-- Extreme Opportunities -->
      <div class="card card-purple">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">âœ¨</span> Extreme Opportunities</h2>
        </div>
        <div class="opportunities-grid" id="rsi-opportunities-grid">
          <!-- Dynamic content -->
        </div>
      </div>

      <!-- RSI Table -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“ˆ</span> <span id="rsi-table-title">Most Oversold</span></h2>
          <span class="table-count" id="rsi-table-count">Loading...</span>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Token</th>
                <th>Price</th>
                <th>RSI</th>
                <th>24h Change</th>
                <th>Market Cap</th>
              </tr>
            </thead>
            <tbody id="rsi-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ==================== OVERSOLD.LOL SECTION ==================== -->
    <section id="oversold-section" class="page-section">
      <!-- Header -->
      <div class="oversold-header">
        <h2>ğŸ”¥ Oversold Market Scanner</h2>
        <p class="text-muted">Real-time RSI analysis across multiple timeframes - inspired by oversold.lol</p>
      </div>

      <!-- Controls -->
      <div class="oversold-controls">
        <!-- Timeframe Selector -->
        <div class="timeframe-selector">
          <button class="timeframe-btn active" data-timeframe="1H">1H</button>
          <button class="timeframe-btn" data-timeframe="4H">4H</button>
          <button class="timeframe-btn" data-timeframe="1D">1D</button>
        </div>
        
        <!-- Search & Filter -->
        <div class="oversold-search-filter">
          <input type="text" id="oversold-search" class="search-input" placeholder="Search tokens..." />
          <select id="oversold-filter" class="filter-select">
            <option value="all">All Tokens</option>
            <option value="extreme">Extreme Only (RSI < 20)</option>
            <option value="strong">Strong Only (RSI < 30)</option>
            <option value="moderate">Moderate (RSI 30-40)</option>
          </select>
          <button class="btn btn-secondary btn-sm" onclick="exportOversoldData()">ğŸ“¥ Export</button>
        </div>
      </div>

      <!-- Summary Stats -->
      <div class="oversold-stats-grid">
        <div class="oversold-stat-card extreme">
          <div class="stat-icon">ğŸš¨</div>
          <div class="stat-content">
            <div class="stat-value" id="oversold-extreme-count">0</div>
            <div class="stat-label">Extreme Oversold (RSI < 20)</div>
          </div>
        </div>
        <div class="oversold-stat-card strong">
          <div class="stat-icon">âš ï¸</div>
          <div class="stat-content">
            <div class="stat-value" id="oversold-strong-count">0</div>
            <div class="stat-label">Strong Oversold (RSI < 30)</div>
          </div>
        </div>
        <div class="oversold-stat-card moderate">
          <div class="stat-icon">ğŸ“Š</div>
          <div class="stat-content">
            <div class="stat-value" id="oversold-moderate-count">0</div>
            <div class="stat-label">Moderate (RSI 30-40)</div>
          </div>
        </div>
        <div class="oversold-stat-card neutral">
          <div class="stat-icon">â–</div>
          <div class="stat-content">
            <div class="stat-value" id="oversold-neutral-count">0</div>
            <div class="stat-label">Neutral (RSI 40-60)</div>
          </div>
        </div>
      </div>

      <!-- Oversold Tokens Grid -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ”¥</span> Oversold Opportunities</h2>
          <div class="header-actions">
            <span class="text-muted" style="font-size: 12px;" id="oversold-last-update">Last update: --</span>
            <button class="btn btn-secondary btn-sm" onclick="refreshOversold()">â†» Refresh</button>
          </div>
        </div>
        <div class="oversold-tokens-grid" id="oversold-tokens-grid">
          <!-- Dynamic token cards -->
        </div>
      </div>

      <!-- Overbought Section -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ”´</span> Overbought Tokens</h2>
          <span class="badge badge-danger">Potential Reversal Zones</span>
        </div>
        <div class="oversold-tokens-grid" id="overbought-tokens-grid">
          <!-- Dynamic token cards -->
        </div>
      </div>
    </section>

    <!-- ==================== POSITIONS DASHBOARD ==================== -->
    <section id="positions-section" class="page-section">
      <!-- Dashboard Header -->
      <div class="positions-header">
        <h2>ğŸ’¼ Positions Dashboard</h2>
        <p class="text-muted">Track your trading performance and manage positions</p>
      </div>

      <!-- Performance Overview -->
      <div class="positions-stats-grid">
        <div class="position-stat-card profit">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-content">
            <div class="stat-value" id="positions-total-pnl">$0.00</div>
            <div class="stat-label">Total P&L</div>
            <div class="stat-detail" id="positions-roi">0.00% ROI</div>
          </div>
        </div>
        <div class="position-stat-card">
          <div class="stat-icon">âœ…</div>
          <div class="stat-content">
            <div class="stat-value" id="positions-win-rate">0%</div>
            <div class="stat-label">Win Rate</div>
            <div class="stat-detail" id="positions-win-loss">0W / 0L</div>
          </div>
        </div>
        <div class="position-stat-card">
          <div class="stat-icon">ğŸ“Š</div>
          <div class="stat-content">
            <div class="stat-value" id="positions-open-count">0</div>
            <div class="stat-label">Open Positions</div>
            <div class="stat-detail" id="positions-total-count">0 Total</div>
          </div>
        </div>
        <div class="position-stat-card">
          <div class="stat-icon">ğŸ¯</div>
          <div class="stat-content">
            <div class="stat-value" id="positions-best-trade">+0%</div>
            <div class="stat-label">Best Trade</div>
            <div class="stat-detail" id="positions-worst-trade">0% Worst</div>
          </div>
        </div>
      </div>

      <!-- Position Tabs -->
      <div class="positions-tabs">
        <button class="positions-tab-btn active" data-tab="open">Open Positions</button>
        <button class="positions-tab-btn" data-tab="closed">Closed Positions</button>
        <button class="positions-tab-btn" data-tab="pending">Pending Entry</button>
      </div>

      <!-- Open Positions -->
      <div class="positions-tab-content active" id="positions-tab-open">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><span class="icon">ğŸ“ˆ</span> Active Positions</h2>
            <span class="badge badge-success" id="open-positions-count">0 Open</span>
          </div>
          <div class="positions-grid" id="open-positions-grid">
            <!-- Dynamic position cards -->
          </div>
        </div>
      </div>

      <!-- Closed Positions -->
      <div class="positions-tab-content" id="positions-tab-closed">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><span class="icon">ğŸ“Š</span> Closed Positions</h2>
            <span class="badge" id="closed-positions-count">0 Closed</span>
          </div>
          <div class="positions-table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Action</th>
                  <th>Entry</th>
                  <th>Exit</th>
                  <th>Time in Position</th>
                  <th>P&L</th>
                  <th>ROI</th>
                </tr>
              </thead>
              <tbody id="closed-positions-table">
                <!-- Dynamic rows -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Pending Entry -->
      <div class="positions-tab-content" id="positions-tab-pending">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><span class="icon">â³</span> Waiting for Entry</h2>
            <span class="badge badge-warning" id="pending-positions-count">0 Pending</span>
          </div>
          <div class="positions-grid" id="pending-positions-grid">
            <!-- Dynamic position cards -->
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== FUNDING SECTION ==================== -->
    <section id="funding-section" class="page-section">
      <!-- Squeeze Alerts -->
      <div class="card card-dark">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ”¥</span> Squeeze Alerts</h2>
          <span class="badge badge-danger">High Funding</span>
        </div>
        <div class="opportunities-grid" id="funding-squeeze-grid">
          <!-- Dynamic squeeze alerts -->
        </div>
      </div>

      <!-- Funding Rates Table -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ’°</span> Current Funding Rates</h2>
          <button class="btn btn-ghost" onclick="refreshFunding()">â†» Refresh</button>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Token</th>
                <th>Funding Rate</th>
                <th>Predicted</th>
                <th>Open Interest</th>
                <th>Signal</th>
              </tr>
            </thead>
            <tbody id="funding-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ==================== UNLOCKS SECTION ==================== -->
    <section id="unlocks-section" class="page-section">
      <!-- Upcoming Unlocks -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ”“</span> Upcoming Token Unlocks</h2>
          <button class="btn btn-ghost" onclick="refreshUnlocks()">â†» Refresh</button>
        </div>
        <div class="unlocks-list" id="unlocks-list">
          <!-- Dynamic unlock cards -->
        </div>
      </div>

      <!-- Unlocks Calendar View -->
      <div class="card card-cream">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“…</span> Unlock Calendar</h2>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Token</th>
                <th>Amount</th>
                <th>% of Supply</th>
                <th>Value (USD)</th>
                <th>Impact</th>
              </tr>
            </thead>
            <tbody id="unlocks-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ==================== LEADERBOARD SECTION ==================== -->
    <section id="leaderboard-section" class="page-section">
      <!-- Top Performers -->
      <div class="card card-purple">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ†</span> Top Performing Tokens</h2>
        </div>
        <div class="leaderboard-podium" id="leaderboard-podium">
          <!-- Top 3 tokens -->
        </div>
      </div>

      <!-- Token Leaderboard -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ“Š</span> Token Rankings</h2>
          <div class="toggle-group toggle-sm">
            <button class="toggle-btn active" data-period="24h">24h</button>
            <button class="toggle-btn" data-period="7d">7d</button>
            <button class="toggle-btn" data-period="30d">30d</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Token</th>
                <th>Price</th>
                <th>Change</th>
                <th>Volume</th>
                <th>Score</th>
              </tr>
            </thead>
            <tbody id="leaderboard-table-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Signal Performance -->
      <div class="card card-dark">
        <div class="card-header">
          <h2 class="card-title"><span class="icon">ğŸ¯</span> Signal Leaderboard</h2>
        </div>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Token</th>
                <th>Signal Type</th>
                <th>Signals</th>
                <th>Win Rate</th>
                <th>Avg Return</th>
              </tr>
            </thead>
            <tbody id="signal-leaderboard-body">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <!-- Token Detail Modal -->
  <div class="modal-overlay" id="token-modal" style="display: none;">
    <div class="modal-content">
      <!-- Dynamic content loaded by JS -->
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>Trading Caller â€” Free your mind. Not financial advice. DYOR.</p>
      <p style="margin-top: 8px; opacity: 0.6;">AI-powered signals for Solana</p>
    </div>
  </footer>

  <script src="app.js"></script>
  <script src="keyboard-shortcuts.js"></script>
  
  <!-- Help Button -->
  <button class="help-btn" onclick="showKeyboardShortcutsHelp()" title="Keyboard Shortcuts (?)">
    âŒ¨ï¸
  </button>
</body>
</html>
